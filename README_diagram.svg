<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="520" viewBox="0 0 1200 520">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="10" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 z" fill="#333" />
    </marker>
    <marker id="dasharrow" markerWidth="10" markerHeight="10" refX="10" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 z" fill="#666" />
    </marker>
  </defs>

  <!-- Server A box -->
  <rect x="40" y="40" width="520" height="420" rx="8" fill="#fff0ff" stroke="#333" stroke-width="2" />
  <text x="300" y="70" font-family="Arial" font-size="18" font-weight="700" text-anchor="middle">Server A — Market Data Service</text>

  <!-- Components inside Server A -->
  <rect x="80" y="100" width="160" height="60" rx="6" fill="#fff" stroke="#222" />
  <text x="160" y="135" font-family="Arial" font-size="12" text-anchor="middle">Feed Service\n(Dhan SDK)</text>

  <rect x="280" y="100" width="120" height="60" rx="6" fill="#fff" stroke="#222" />
  <text x="340" y="135" font-family="Arial" font-size="12" text-anchor="middle">Redis</text>

  <rect x="440" y="100" width="120" height="60" rx="6" fill="#fff" stroke="#222" />
  <text x="500" y="135" font-family="Arial" font-size="12" text-anchor="middle">Postgres\n(candles & option_chains)</text>

  <rect x="320" y="220" width="240" height="60" rx="6" fill="#fff" stroke="#222" />
  <text x="440" y="255" font-family="Arial" font-size="12" text-anchor="middle">MDS Adapter\n(HTTP API)</text>

  <!-- Arrows in Server A -->
  <line x1="160" y1="160" x2="340" y2="160" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="160" y1="160" x2="500" y2="160" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="380" y1="160" x2="380" y2="220" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="500" y1="160" x2="500" y2="220" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />

  <!-- Server B box -->
  <rect x="640" y="40" width="520" height="420" rx="8" fill="#f0ffff" stroke="#333" stroke-width="2" />
  <text x="900" y="70" font-family="Arial" font-size="18" font-weight="700" text-anchor="middle">Server B — Trading Bot</text>

  <!-- Components inside Server B -->
  <rect x="700" y="120" width="160" height="60" rx="6" fill="#fff" stroke="#222" />
  <text x="780" y="155" font-family="Arial" font-size="12" text-anchor="middle">Backend\n(uvicorn)</text>

  <rect x="900" y="120" width="160" height="60" rx="6" fill="#fff" stroke="#222" />
  <text x="980" y="155" font-family="Arial" font-size="12" text-anchor="middle">Frontend\n(React)</text>

  <rect x="820" y="220" width="160" height="60" rx="6" fill="#fff" stroke="#222" />
  <text x="900" y="255" font-family="Arial" font-size="12" text-anchor="middle">Execution API</text>

  <line x1="860" y1="180" x2="980" y2="180" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="780" y1="180" x2="900" y2="240" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />

  <!-- Cross-server arrows -->
  <line x1="560" y1="250" x2="700" y2="150" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  <text x="630" y="230" font-family="Arial" font-size="12" text-anchor="middle">HTTP (candles, option_chain, quote)</text>

  <line x1="340" y1="150" x2="780" y2="150" stroke="#666" stroke-dasharray="6,4" stroke-width="2" marker-end="url(#dasharrow)" />
  <text x="560" y="140" font-family="Arial" font-size="11" text-anchor="middle">pub/sub (optional)</text>

  <!-- Footer note -->
  <text x="600" y="500" font-family="Arial" font-size="11" text-anchor="middle" fill="#444">Generated diagram (approximation of the Mermaid flowchart in README_diagram.mmd)</text>
</svg>
